{"parse":{"title":"selectBestPlaces","pageid":8412,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> arma2 </value></part><part><name>Game name</name>=<value>\n\n</value></part><part><name index=\"2\"/><value>1.00</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> Mission Information </value></part><part><name>GROUP1</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> Find the places with the maximum value of ''expression'' in the given area. Places can be on water. Results are sorted by value. Search pattern is randomised every command execution. </value></part><part><name>DESCRIPTION</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> [[selectBestPlaces]] [position, radius, expression, precision, sourcesCount] </value></part><part><name>SYNTAX</name>=<value>\n\n</value></part><part><name>p1</name>=<value> position: [[Object]], [[Position3D]] or [[Position2D]]</value></part><part><name>PARAMETER1</name>=<value>\n\n</value></part><part><name>p2</name>=<value> radius: [[Number]]</value></part><part><name>PARAMETER2</name>=<value>\n\n</value></part><part><name>p3</name>=<value> expression: [[String]] - Arithmetic expression. Simple expression var names containing values from 0 to 1 depending on location (see also [[Ambient Parameters]]):\n* forest\n* trees\n* meadow\n* hills\n* houses\n* sea\n* night\n* rain\n* windy\n* deadBody\n* waterDepth\n* camDepth </value></part><part><name>PARAMETER3</name>=<value>\n\n</value></part><part><name>p4</name>=<value> precision: [[Number]]</value></part><part><name>PARAMETER4</name>=<value>\n\n</value></part><part><name>p5</name>=<value> sourcesCount: [[Number]] - max results to return. '''maximum 50''' </value></part><part><name>PARAMETER5</name>=<value>\n\n</value></part><part><name index=\"5\"/><value> [[Array]] - in Format <ext><name>nowiki</name><attr/><inner>[[position: </inner><close>&lt;/nowiki&gt;</close></ext>[[Position2D]]<ext><name>nowiki</name><attr/><inner>, expressionResult: </inner><close>&lt;/nowiki&gt;</close></ext>[[Number]]<ext><name>nowiki</name><attr/><inner>], ...]</inner><close>&lt;/nowiki&gt;</close></ext> </value></part><part><name>RETURNVALUE</name>=<value> \n____________________________________________________________________________________________\n\n</value></part><part><name>x1</name>=<value> &lt;code&gt;myPlaces = [[selectBestPlaces]] [<ext><name>nowiki</name><attr/></ext>[[position]] [[player]], 50, \"meadow + 2*hills\", 1, 5];&lt;/code&gt;</value></part><part><name>EXAMPLE1</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"6\"/><value> [[getEnvSoundController]], [[getAllEnvSoundControllers]], [[findEmptyPosition]], [[isFlatEmpty]], [[Ambient Parameters]] </value></part><part><name>SEEALSO</name>=<value>\n\n</value></part><part><name index=\"7\"/><value>  </value></part><part><name>MPBEHAVIOUR</name>=<value>\n</value></part></template>\n\n&lt;h3 style='display:none'&gt;Notes&lt;/h3&gt;\n&lt;dl class='command_description'&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>&lt;dd class=\"notedate\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on Jul 17, 2010 - 18:39\n&lt;dt class=\"note\"&gt;[[User:R\u00fcbe|R\u00fcbe]]\n&lt;dd class=\"note\"&gt;see http://forums.bistudio.com/showthread.php?t=93897 for some more information (though neither official, nor complete). The most important information is the list of useable keywords for the expression which is: '''forest, trees, meadow, hills, houses, sea, night, rain, windy''' and '''deadBody'''. The keyword will be replaced by the actual value at the given sample position and thus the expression gets evaluated. For example the following expression (which returns high values in forest) ''\"forest + trees - meadow - houses - (10 * sea)\"'' might be transformed to ''0 + 0.1 - 0.7 - 0 - (10 * 0)'' which is - with it is result of -0.6 - not in the forest, though there are some tree(s) around. You get the idea.&lt;br&gt;\nAlso note that you may aswell check such an expression value at a single position by passing a low radius and a sourceCount of 1, which is often just as useful as retrieving multiple (and already sorted) positions.&lt;br&gt;\nAlso do not underestimate the keywords ''night'', ''rain'' or ''windy'', for if you couple them with the other keywords, you can easily get a highly dynamic system at a very low cost. (this, btw., is how animals \"choose\" where and when to spawn)\n\n&lt;dd class=\"notedate\"&gt;Posted on Apr 3, 2014 - 16:10\n&lt;dt class=\"note\"&gt;[[User:ffur2007slx2_5|ffur2007slx2_5]]\n&lt;dd class=\"note\"&gt;\nIn ArmA3 ver 1.14 Two new expressions are available: '''waterDepth'''(0-1) and '''camDepth'''(0-1), along with three simple operators: '''interpolate''', '''randomGen''' and '''factor''' that can be used together with expressions. E.g.\n&lt;code&gt;\np = selectBestPlaces [\n  position player,\n  500,\n  \"(2 * (waterDepth interpolate [1,16,0,1]) * ((0.1+houses factor [0.1,0.8]) * (randomGen 1 + houses)))\",\n  1,\n  1];\n&lt;/code&gt;\n'''A'''lgorithm randomGen:\n&lt;code&gt;\nrandomGen A(number): randomly generate a float number from 0 - A\n&lt;/code&gt;\n'''A'''lgorithm factor:\n&lt;code&gt;\nA(number) factor [p,q] = \np&lt; A &lt;q: [(A -p)/(q-p)]\n&lt;/code&gt;\n'''A'''lgorithm interpolate:\n&lt;code&gt;\nA(number) interpolate [p,q,r,s] = \nA &lt;=p:r\nA &gt;=q:s\np&lt; A &lt;q: [(A -p)/(q-p)]*(s-r) +r\n&lt;/code&gt;\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n&lt;h3 style='display:none'&gt;Bottom Section&lt;/h3&gt;\n\n[[Category:Scripting Commands Arma 2|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Take On Helicopters|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on June 15, 2015 - 13:27 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\n''precision'' seems to have range 0 - 100. At very low values the command is extremely slow. 100 makes it quite fast. It looks like ''precision'' is some kind of grid search size. Large chunks make the search faster but less accurate. &lt;br&gt;&lt;br&gt;\nResulting array is [] if ''sourcesCount'' is 0 or '' expression'' is \"\". In all other cases it seems that result is array of arrays of the set max count. The sole indication of successful search is ''expressionResult'' value when it is &gt; 0.\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on June 4, 2017 - 20:51 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Tankbuster|Tankbuster]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nResults are sorted by value, that is, the result of the expression.\nThey are sorted in descending order, so in the case of waterdepth, the deepest water will be found at the locations at the start of the returned array and the shallowest water will be found at the locations at the end.\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}