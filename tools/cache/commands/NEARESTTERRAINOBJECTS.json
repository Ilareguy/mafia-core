{"parse":{"title":"nearestTerrainObjects","pageid":17878,"parsetree":{"*":"<root><template><title>RV</title><part><name>type</name>=<value>command\n\n</value></part><part><name index=\"1\"/><value> arma3\n\n</value></part><part><name index=\"2\"/><value>1.54\n\n</value></part><part><name>gr1</name>=<value> Object Detection\n\n</value></part><part><name index=\"3\"/><value> Returns a list of nearest terrain objects of the given types to the given position or object, within the specified distance. If more than one object is found they will be ordered according to 3D distance to the object (i.e. the closest one will be first in the array). \nIn contrast to [[nearestObjects]] this command returns terrain placed objects like trees, rocks and buildings which don't necessarily need an associated config class.&lt;br&gt;&lt;br&gt;\nPossible type names:&lt;tt&gt;\"TREE\", \"SMALL TREE\", \"BUSH\", \"BUILDING\", \"HOUSE\", \"FOREST BORDER\", \"FOREST TRIANGLE\", \"FOREST SQUARE\", \"CHURCH\", \"CHAPEL\", \"CROSS\", \"BUNKER\", \"FORTRESS\", \"FOUNTAIN\", \"VIEW-TOWER\", \"LIGHTHOUSE\", \"QUAY\", \"FUELSTATION\", \"HOSPITAL\", \"FENCE\", \"WALL\", \"HIDE\", \"BUSSTOP\", \"ROAD\", \"FOREST\", \"TRANSMITTER\", \"STACK\", \"RUIN\", \"TOURISM\", \"WATERTOWER\", \"TRACK\", \"MAIN ROAD\", \"ROCK\", \"ROCKS\", \"POWER LINES\", \"RAILWAY\", \"POWERSOLAR\", \"POWERWAVE\", \"POWERWIND\", \"SHIPWRECK\", \"TRAIL\"&lt;/tt&gt;\n&lt;br&gt;&lt;br&gt;\nSince Arma 3 v1.61.136035 it is possible to switch the sorting algorithm off by providing optional param, which significantly increases the performance of this command, especially if the search is performed with large radius.\n&lt;br&gt;\nSince Arma 3 v1.65.138818 it is possible to switch search and sorting mode between 2D and 3D.\n&lt;br&gt;\nSince Arma 3 v1.99.146404 this command also returns missing roads: &lt;tt&gt;\"ROAD\", \"MAIN ROAD\", \"TRACK\", \"TRAIL\"&lt;/tt&gt; \n&lt;br&gt;&lt;br&gt;\n<ext><name>syntaxhighlight</name><attr> lang=\"cpp\"</attr><inner/><close>&lt;/syntaxhighlight&gt;</close></ext><comment>&lt;!---THIS IS HERE TO MAKE SYNTAX HIGHLIGHTING WORK INSIDE THE SPOILER (BLACKMAGIC)---&gt;</comment>\n<ext><name>spoiler</name><attr> text=\"Terrain object counts\"</attr><inner>\n{{Feature|Informative|Types which are missing are not present in the given world. [[Virtual Reality]] has no terrain objects. Last updated {{GVI|A3|1.99}}}}\n&lt;big&gt;[[Stratis]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUSH: 47974\n* CHAPEL: 2\n* CROSS: 1\n* FENCE: 1728\n* FUELSTATION: 3\n* HIDE: 70975\n* HOUSE: 684\n* LIGHTHOUSE: 3\n* ROAD: 143\n* ROCK: 820\n* SHIPWRECK: 11\n* TRACK: 2063\n* TRANSMITTER: 11\n* TREE: 40110\n* WALL: 1355\n* WATERTOWER: 1\n&lt;/div&gt;\n\n&lt;big&gt;[[Altis]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUSH: 747193\n* CHAPEL: 165\n* CHURCH: 54\n* CROSS: 48\n* FENCE: 47940\n* FUELSTATION: 32\n* HIDE: 655958\n* HOSPITAL: 1\n* HOUSE: 17472\n* LIGHTHOUSE: 7\n* MAIN ROAD: 2061\n* POWER LINES: 2224\n* POWERSOLAR: 10\n* POWERWAVE: 51\n* POWERWIND: 128\n* ROAD: 4849\n* ROCK: 5483\n* RUIN: 3\n* SHIPWRECK: 43\n* TOURISM: 1\n* TRACK: 26823\n* TRANSMITTER: 23\n* TREE: 263630\n* WALL: 38943\n* WATERTOWER: 10\n&lt;/div&gt;\n\n&lt;big&gt;[[Malden 2035]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUSH: 288461\n* BUSSTOP: 45\n* CHAPEL: 14\n* CHURCH: 14\n* CROSS: 16\n* FENCE: 11189\n* FUELSTATION: 24\n* HIDE: 192553\n* HOUSE: 4062\n* LIGHTHOUSE: 15\n* MAIN ROAD: 1050\n* POWER LINES: 3427\n* POWERSOLAR: 1\n* ROAD: 1442\n* ROCK: 3513\n* SHIPWRECK: 23\n* TRACK: 3489\n* TRANSMITTER: 7\n* TREE: 101960\n* WALL: 14189\n* WATERTOWER: 63\n&lt;/div&gt;\n\n&lt;big&gt;[[Tanoa]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUSH: 754347\n* CHURCH: 21\n* FENCE: 2912\n* FUELSTATION: 85\n* HIDE: 356904\n* HOUSE: 13389\n* MAIN ROAD: 2921\n* POWER LINES: 3985\n* POWERSOLAR: 2\n* POWERWIND: 19\n* RAILWAY: 2138\n* ROAD: 1485\n* ROCK: 8909\n* SHIPWRECK: 58\n* TOURISM: 35\n* TRACK: 9419\n* TRAIL: 6936\n* TRANSMITTER: 16\n* TREE: 506993\n* WALL: 20526\n* WATERTOWER: 73\n&lt;/div&gt;\n\n&lt;big&gt;[[Livonia]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUILDING: 1262\n* BUNKER: 40\n* BUSH: 473543\n* BUSSTOP: 73\n* CHAPEL: 8\n* CHURCH: 17\n* FENCE: 48426\n* FOUNTAIN: 36\n* FUELSTATION: 7\n* HIDE: 474123\n* HOUSE: 6762\n* MAIN ROAD: 2118\n* POWER LINES: 2671\n* POWERSOLAR: 2\n* POWERWIND: 1\n* RAILWAY: 843\n* ROAD: 5378\n* ROCK: 744\n* SHIPWRECK: 4\n* STACK: 11\n* TRACK: 12834\n* TRANSMITTER: 15\n* TREE: 1881630\n* VIEW-TOWER: 239\n* WALL: 4418\n* WATERTOWER: 7\n&lt;/div&gt;\n\n&lt;big&gt;[[Weferlingen]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUILDING: 5072\n* BUSH: 731315\n* BUSSTOP: 106\n* CHAPEL: 13\n* CHURCH: 21\n* FENCE: 83908\n* FUELSTATION: 9\n* HIDE: 231818\n* HOUSE: 4562\n* MAIN ROAD: 1535\n* POWER LINES: 1958\n* RAILWAY: 2324\n* ROAD: 8740\n* STACK: 18\n* TRACK: 24372\n* TRANSMITTER: 1\n* TREE: 829449\n* VIEW-TOWER: 34\n&lt;/div&gt;\n\n&lt;big&gt;[[Weferlingen (Winter)]]&lt;/big&gt;\n&lt;div style=\"columns: 5\"&gt;\n* BUILDING: 5072\n* BUSH: 519827\n* BUSSTOP: 106\n* CHAPEL: 13\n* CHURCH: 21\n* FENCE: 83908\n* FUELSTATION: 9\n* HIDE: 229792\n* HOUSE: 4562\n* MAIN ROAD: 1535\n* POWER LINES: 1958\n* RAILWAY: 2324\n* ROAD: 8740\n* STACK: 18\n* TRACK: 24372\n* TRANSMITTER: 1\n* TREE: 829449\n* VIEW-TOWER: 34\n&lt;/div&gt;\n\n&lt;syntaxhighlight lang=\"cpp\"&gt;[] spawn\n{\n  private _types = [\"TREE\", \"SMALL TREE\", \"BUSH\", \"BUILDING\", \"HOUSE\", \"FOREST BORDER\", \"FOREST TRIANGLE\", \"FOREST SQUARE\", \"CHURCH\", \"CHAPEL\",\n  \"CROSS\", \"BUNKER\", \"FORTRESS\", \"FOUNTAIN\", \"VIEW-TOWER\", \"LIGHTHOUSE\", \"QUAY\", \"FUELSTATION\", \"HOSPITAL\", \"FENCE\", \"WALL\", \"HIDE\", \"BUSSTOP\",\n  \"ROAD\", \"FOREST\", \"TRANSMITTER\", \"STACK\", \"RUIN\", \"TOURISM\", \"WATERTOWER\", \"TRACK\", \"MAIN ROAD\", \"ROCK\", \"ROCKS\", \"POWER LINES\", \"RAILWAY\",\n  \"POWERSOLAR\", \"POWERWAVE\", \"POWERWIND\", \"SHIPWRECK\", \"TRAIL\"];\n\n  _types sort true;\n\n  private _counts = [];\n  private _countTypes = count _types;\n\n  [\"R3vo_GetNearestTerrainObjects\",\"\"] call BIS_fnc_startLoadingScreen;\n\n  {\n    private _terrainObjects = nearestTerrainObjects\n    [\n      [worldSize / 2, worldSize / 2],\n      [_x],\n      worldSize,\n      false\n    ];\n\n    if (count _terrainObjects &gt; 0) then\n    {\n      _counts pushBack [_x,count _terrainObjects];\n    };\n    ((_forEachIndex + 1) / _countTypes) call BIS_fnc_progressLoadingScreen;\n  } forEach _types;\n\n\n  \"R3vo_GetNearestTerrainObjects\" call BIS_fnc_endLoadingScreen;\n\n  private _export = \"&lt;big&gt;[[\" + getText (configFile &gt;&gt; \"CfgWorlds\" &gt;&gt; worldName &gt;&gt; \"description\") + \"]]&lt;/big&gt;\" + endl + '&lt;div style=\"columns: 5\"&gt;';\n\n  {\n    _export = _export + endl + \"* \" + (_x # 0) + \": \" + (str (_x # 1));\n  } forEach _counts;\n\n  _export = _export + endl + \"&lt;/div&gt;\";\n\n  copyToClipboard _export;\n};&lt;/syntaxhighlight&gt;\n</inner><close>&lt;/spoiler&gt;</close></ext>\n\n</value></part><part><name index=\"4\"/><value> [[nearestTerrainObjects]] [position, types, radius, sort, 2Dmode]\n\n</value></part><part><name>p1</name>=<value> position:  [[Object]], [[PositionAGL]] or [[Position2D]] - where to find objects, center position\n\n</value></part><part><name>p2</name>=<value> types: [[Array]] - list of case-insensitive types of the objects to search for. &lt;tt&gt;[]&lt;/tt&gt; to search without filters\n\n</value></part><part><name>p3</name>=<value> radius: [[Number]] - range from center position to search for objects\n\n</value></part><part><name>p4</name>=<value> sort: [[Boolean]] - (Optional, default [[true]]) sort objects by distance to the center or not <template><title>Since</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>1.61.136035</value></part><part><name index=\"3\"/><value>y</value></part></template>\n\n</value></part><part><name>p5</name>=<value> 2Dmode: [[Boolean]] - (Optional, default [[false]]) the object search and sorting mode: [[true]] - 2D, [[false]] - 3D <template><title>Since</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>1.65.138818</value></part><part><name index=\"3\"/><value>y</value></part></template>\n\n</value></part><part><name index=\"5\"/><value> [[Array]] - array of terrain objects\n\t\t  \n</value></part><part><name>x1</name>=<value> &lt;code&gt;[[nearestTerrainObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [\"Tree\", \"Bush\"], 200];&lt;/code&gt;\n\n</value></part><part><name>x2</name>=<value> &lt;code&gt;[[nearestTerrainObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [\"House\"], 200];&lt;/code&gt;\n\n</value></part><part><name>x3</name>=<value> &lt;code&gt;[[nearestTerrainObjects]] [<ext><name>nowiki</name><attr/></ext>[2716,2949,0], [\"Chapel\", \"Fuelstation\"], 100];&lt;/code&gt;\n\n</value></part><part><name>x4</name>=<value> Return every terrain object in 50 metres radius around player sorted, closest first:&lt;code&gt;[[nearestTerrainObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [], 50];&lt;/code&gt;\n\n</value></part><part><name>x5</name>=<value> Return every terrain object in 50 metres radius around player unsorted:&lt;code&gt;[[nearestTerrainObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [], 50, [[false]]];&lt;/code&gt;\n\n</value></part><part><name>x6</name>=<value> Hide all terrain objects [[nearestTerrainObjects]] could find:\n&lt;code&gt;[[if]] ([[isServer]]) [[then]]\n{\n\t[[private]] _allTerrainObjects = [[nearestTerrainObjects]]\n\t[\n\t\t[<ext><name>nowiki</name><attr/></ext>[[worldSize]] / 2, [[worldSize]] / 2],\n\t\t[],\n\t\t[[worldSize]] * [[sqrt]] 2 / 2,\n\t\t[[false]]\n\t];\n\n\t{ [[Magic Variables#x|_x]] [[hideObjectGlobal]] [[true]] } [[forEach]] _allTerrainObjects;\n};&lt;/code&gt;\n\n</value></part><part><name>seealso</name>=<value> [[nearestObjects]], [[findNearestEnemy]], [[hideObject]], [[nearestBuilding]], [[nearestObject]], [[nearObjects]], [[nearestLocation]], [[nearEntities]], [[nearTargets]], [[nearSupplies]], [[nearestLocationWithDubbing]], [[nearObjectsReady]], [[nearRoads]], [[roadsConnectedTo]], [[roadAt]], [[isOnRoad]], [[getRoadInfo]]\n</value></part></template>\n\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on October 31, 2016 - 00:20 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nSince Arma 3 v1.65.138818 the default sorting is done according to 3D distance not [[distance2D]] as before. This is an attempt to correct some very old bug in implementation. \n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on December 28, 2016 - 20:21 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Demellion|Demellion]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nBe aware that some terrain objects types might be tricky to be found, such as terrain rocks and boulders which are not considered to be \"ROCKS\" or \"ROCK\", but \"HIDE\". Example:\n&lt;code&gt;nearestTerrainObjects [player, [\"HIDE\"], 20]; <template><title>cc</title><part><name index=\"1\"/><value>[939688: bluntstone_01.p3d,939691: garbagebags_f.p3d,939671: wreck_car_f.p3d,939692: junkpile_f.p3d]</value></part></template>&lt;/code&gt;\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on June 7, 2020 - 14:16 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:killzone_kid|killzone_kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nLarge bridges are map type &lt;tt&gt;\"ROAD\"&lt;/tt&gt;. Small foot bridges are not roads and not included into road net.\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}