{"parse":{"title":"addPublicVariableEventHandler","pageid":6822,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> arma </value></part><part><name>Game name</name>=<value>\n\n</value></part><part><name index=\"2\"/><value>1.09</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>arg</name>=<value> global </value></part><part><name>Multiplayer Arguments</name>=<value>\n\n</value></part><part><name>eff</name>=<value> local </value></part><part><name>Multiplayer Effects</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> Broken Commands </value></part><part><name>GROUP1</name>=<value>\n\n</value></part><part><name>gr2</name>=<value> Event Handlers </value></part><part><name>GROUP2</name>=<value>\n\n</value></part><part><name>gr3</name>=<value> Multiplayer </value></part><part><name>GROUP3</name>=<value>\n\n</value></part><part><name>gr4</name>=<value> Variables </value></part><part><name>GROUP4</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> <template><title>Feature arma3 </title><part><name index=\"1\"/><value> This command is deprecated since the introduction of [[remoteExec]] and [[remoteExecCall]].</value></part></template>\n\nThis event handler will detect if a [[missionNamespace]] variable (it is attached to) has been broadcast over network with [[publicVariable]], [[publicVariableClient]] or [[publicVariableServer]] commands and will execute EH code upon detection. Arguments passed to the code in ''_this'' array are:\n&lt;br&gt;\n&lt;br&gt;_this select 0: [[String]] - broadcast variable name (same variable name EH is attached to)\n&lt;br&gt;_this select 1: [[Anything]] - broadcast variable value \n&lt;br&gt;_this select 2: [[Object]], [[Group]] - target the variable got set on with [[setVariable]]  (see: alternative syntax)\n&lt;br&gt;&lt;br&gt;\n<template lineStart=\"1\"><title>Informative </title><part><name index=\"1\"/><value>\n* This EH works '''only''' in Multiplayer environment\n* There is '''no way to remove''' this EH\n* This EH will not fire on the machine that executed broadcast with [[publicVariable]] command, only on the machines that receive the broadcast\n* The value of broadcast variable can be exactly the same, it is the actual broadcast that triggers EH not the change in variable</value></part></template>\n</value></part><part><name>DESCRIPTION</name>=<value>\n\n</value></part><part><name>pr</name>=<value> <template><title>Warning </title><part><name index=\"1\"/><value> Alt syntax of this command doesn't work as intended.</value></part></template> </value></part><part><name>PROBLEMS</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> varName '''addPublicVariableEventHandler''' code </value></part><part><name>SYNTAX</name>=<value>\n\n</value></part><part><name>p1</name>=<value> varName: [[String]] - [[missionNamespace]] variable name </value></part><part><name>PARAMETER1</name>=<value>\n</value></part><part><name>p2</name>=<value> code: [[Code]] - By default, the code is executed in [[missionNamespace]] </value></part><part><name>PARAMETER2</name>=<value>\n\n</value></part><part><name index=\"5\"/><value> [[Nothing]] </value></part><part><name>RETURNVALUE</name>=<value>\n\n</value></part><part><name>s2</name>=<value> varName '''addPublicVariableEventHandler''' [target, code] ''(since A3 1.46)''</value></part><part><name>SYNTAX2</name>=<value>\n\n</value></part><part><name>p21</name>=<value> varName: [[String]] - name of the variable set on target with [[setVariable]] </value></part><part><name>PARAMETER21</name>=<value>\n</value></part><part><name>p22</name>=<value> [target, code]: [[Array]] </value></part><part><name>PARAMETER22</name>=<value>\n</value></part><part><name>p23</name>=<value> target: [[Object]], [[Group]] or [[Team Member]]</value></part><part><name>PARAMETER23</name>=<value>\n</value></part><part><name>p24</name>=<value> code: [[Code]] </value></part><part><name>PARAMETER24</name>=<value>\n\n</value></part><part><name>r2</name>=<value> [[Nothing]] </value></part><part><name>RETURNVALUE2</name>=<value>\n____________________________________________________________________________________________\n\t\t  \n</value></part><part><name>x1</name>=<value> &lt;code&gt;\"publicThis\" [[addPublicVariableEventHandler]] {\n\t[[hint]] [[format]] [\n\t\t\"%1 has been updated to: %2\",\n\t\t_this [[select]] 0,\n\t\t_this [[select]] 1\n\t]\n};&lt;/code&gt; </value></part><part><name>EXAMPLE1</name>=<value>\n\n</value></part><part><name>x2</name>=<value> Client:&lt;code&gt;\"'^:)123BURP,+=lol\" [[addPublicVariableEventHandler]] {[[hint]] (\"NUTS are \" + (_this [[select]] 1))};&lt;/code&gt;\nServer:&lt;code&gt;[[missionNamespace]] [[setVariable]] [\"'^:)123BURP,+=lol\", \"craZZZZy\"];\n[[publicVariable]] \"'^:)123BURP,+=lol\";&lt;/code&gt; </value></part><part><name>EXAMPLE2</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"6\"/><value> [[publicVariable]], [[publicVariableClient]], [[publicVariableServer]] </value></part><part><name>SEEALSO</name>=<value>\n\n</value></part></template>\n\n&lt;h3 style=\"display:none\"&gt;Notes&lt;/h3&gt;\n&lt;dl class=\"command_description\"&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>&lt;dd class=\"notedate\"&gt;Posted on 22 Dec, 2007\n&lt;dt class=\"note\"&gt;[[User:TeRp|TeRp]]&lt;dd class=\"note\"&gt;\nPlease note that varName indicates which variable you want to monitor with this eventhandler.&lt;br&gt;\nAs a result, the example eventhandler on this page will only fire when the variable publicThis has been changed,\nbut not if any other variable was changed by any other client via the publicVariable command. \n\n&lt;dd class=\"notedate\"&gt;Posted on 27 Feb, 2014 00:57\n&lt;dt class=\"note\"&gt;[[User:MulleDK13|MulleDK13]]&lt;dd class=\"note\"&gt;\nNote on using addPublicVariableEventHandler during initialization: If you need a function to call addPublicVariableEventHandler during initialization, you must use postInit. addPublicVariableEventHandler does not work during preInit.\n\n&lt;dd class=\"notedate\"&gt;Posted on 27 Feb, 2014 08:40\n&lt;dt class=\"note\"&gt;[[User:Killzone_Kid|Killzone_Kid]]&lt;dd class=\"note\"&gt;\nMulleDK13 note above needs some clarification. You don't \"must\" use postInit and you absolutely can use preInit function to initialise [[addPublicVariableEventHandler]] if you start [[Scheduler#Scheduled_Environment|scheduled]] script from it. &lt;br&gt;\n&lt;code&gt;//script with preInit = 1; in CfgFunctions\n0 = 0 [[spawn]] {\n\t\"someVar\" [[addPublicVariableEventHandler]] {\n\t\t//yourcode\n\t};\n};&lt;/code&gt;\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n&lt;h3 style=\"display:none\"&gt;Bottom Section&lt;/h3&gt;\n[[Category:Scripting Commands Arma 2|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Take On Helicopters|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on November 23, 2015 - 21:36 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:SilentSpike|SilentSpike]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nWhile it is true that the event handler will only fire on the machine receiving the broadcast value. Please note that this machine can actually be the same machine broadcasting it in the cases of [[publicVariableClient]] and [[publicVariableServer]].\n\nExamples: &lt;code&gt;if ([[isServer]]) then {\n    \"OnServer\" [[addPublicVariableEventHandler]] { [[hint]] \"This event handler still fired!\"; };\n    [[publicVariableServer]] \"OnServer\";\n};&lt;/code&gt;\n&lt;code&gt;// This example assumes the client knows their own client ID\n// It does also work on the server (when the server ID is used) irrespective of the command name\n\n\"OnClient\" [[addPublicVariableEventHandler]] { [[hint]] \"This event handler still fired!\"; };\n&lt;client ID&gt; [[publicVariableClient]] \"OnClient\";\n&lt;/code&gt;\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}