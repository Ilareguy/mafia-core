{"parse":{"title":"ctrlMapScreenToWorld","pageid":5748,"parsetree":{"*":"<root><template><title>RV</title><part><name>type</name>=<value>command\n\n</value></part><part><name index=\"1\"/><value> arma1\n\n</value></part><part><name index=\"2\"/><value>1.05\n\n</value></part><part><name>gr1</name>=<value> GUI Control - Map\n\n</value></part><part><name index=\"3\"/><value> Converts map screen coordinates into world coordinates. Unlike [[posScreenToWorld]], this command returns world position is format [x, y], otherwise it is identical to [[posScreenToWorld]].\n\n</value></part><part><name index=\"4\"/><value> control '''ctrlMapScreenToWorld''' [x, y]\n\n</value></part><part><name>p1</name>=<value> control: [[Control]] - map control\n\n</value></part><part><name>p2</name>=<value> [x, y]: [[Array]]\n</value></part><part><name>p3</name>=<value> x: [[Number]] - screen X\n</value></part><part><name>p4</name>=<value> y: [[Number]] - screen Y\n\n</value></part><part><name index=\"5\"/><value> [[Array]] - world coordinates in format [[Position2D]]\n\t\t  \n</value></part><part><name>x1</name>=<value> &lt;code&gt;_worldCoord = _control [[ctrlMapScreenToWorld]] _ScreenCoord;&lt;/code&gt;\n</value></part><part><name>x2</name>=<value> &lt;code&gt;_worldCoord = _control [[ctrlMapScreenToWorld]] [_x, _y];&lt;/code&gt;\n</value></part><part><name>x3</name>=<value> &lt;code&gt;_worldCoord = [[findDisplay]] 12 [[displayCtrl]] 51 [[ctrlMapScreenToWorld]] [0.5, 0.5];&lt;/code&gt;\n\n</value></part><part><name>seealso</name>=<value> [[ctrlMapWorldToScreen]], [[posScreenToWorld]], [[posWorldToScreen]], [[findDisplay]], [[displayCtrl]]\n</value></part></template>\n\n&lt;dl class=\"command_description\"&gt;\n\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>\n&lt;dd class=\"notedate\"&gt;Posted on April 6, 2007 - 23:41&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:LowFly|LowFly]]&lt;dd class=\"note\"&gt;''Notes:''\n\nYou can get the screen coordinates by the [[User_Interface_Event_Handlers|UI Event Handlers]] onMouseButtonDown, onMouseButtonUp, onMouseButtonClick, onMouseButtonDblClick.  \n\nThe return Array is in 2-D, you can use it with all set-position commands.\n<ext><name>pre</name><attr/><inner>_x = returnArray select 0;\n_y = returnArray select 1;</inner><close>&lt;/pre&gt;</close></ext>\n\n&lt;dd class=\"notedate\"&gt;\n&lt;dt class=\"note\"&gt;[[User:Ceeeb|Ceeeb]]&lt;dd class=\"note\"&gt;\nThe command parameters are screen position coordinates, which may not equate to the map control's coordinates. A map control's screen coordinates and size can be found use the [[ctrlPosition]] command. This is an issue when using the Arma 3 in-game map, which is not fullscreen (all previous titles used full screen map controls, so map control coords did equate to screen coords).\n\n&lt;dd class=\"notedate\"&gt;Posted on August 28, 2017 - 0:05&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Icaruk|Icaruk]]&lt;dd class=\"note\"&gt;\nThis example creates a RscMapControl and hints you the [x,y] position where you clicked.\n\n&lt;code&gt;0 spawn {&lt;br&gt;\n\tdisableSerialization;\n\t_map = findDisplay 46 createDisplay \"RscCredits\" ctrlCreate [\"RscMapControl\", -1];\n\t_map ctrlSetPosition [0,0,1,1];\n\t_map ctrlCommit 0;&lt;br&gt;\n\t_map ctrlAddEventHandler [\"mouseButtonDown\", {\n\t\t_ctrl = _this select 0;\n\t\t_x = _this select 2;\n\t\t_y = _this select 3;&lt;br&gt;\n\t\t_pos = _ctrl '''ctrlMapScreenToWorld''' [_x, _y];\n\t\thint format [\"pos: %1\", _pos];\n\t}];&lt;br&gt;\t\n};&lt;/code&gt;\n\n&lt;/dd&gt;\n&lt;/dl&gt;\n\n\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma1</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma2</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>tkoh</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>\n\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}