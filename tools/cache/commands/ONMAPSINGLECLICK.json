{"parse":{"title":"onMapSingleClick","pageid":1492,"parsetree":{"*":"<root><template><title>RV</title><part><name>type</name>=<value>command\n\n</value></part><part><name index=\"1\"/><value> ofpr\n\n</value></part><part><name index=\"2\"/><value>1.85\n\n</value></part><part><name>gr1</name>=<value> Map\n\n</value></part><part><name>gr2</name>=<value> Event Handlers\n\n</value></part><part><name index=\"3\"/><value> Define action performed when user clicks in map by executing command string. The code is executed on every click, until the '''command''' is \n* removed via '''onMapSingleClick''' \"\", or\n* replaced by '''onMapSingleClick''' \"SomeOtherCommand(s)\"\n\nthe string receives 5 (localised in scope) variables:\n* _this: [[Anything]] - Params passed to onMapSingleClick\n* _pos: [[Array]] - Clicked position\n* _units: [[Array]] - Units which were selected (via function keys) '''before''' opening the map (''may be non-functional in Arma'')\n* _shift: [[Boolean]] - Whether &lt;Shift&gt; was pressed when clicking on the map\n* _alt: [[Boolean]] - Whether &lt;Alt&gt; was pressed when clicking on the map\n\nIn Arma 3 the code should return [[true]] only if you wish to override default engine handling of the mouse click on map (see example #4)&lt;br&gt; For older games, when click is processed, code should ultimately return [[true]] back to the engine. If [[false]] is returned, default processing by the game engine is done. Return value of any other type (including [[Nothing]]) is an error. In such case default processing by the game engine is done, and error message may be displayed.\n\n&lt;br&gt;&lt;br&gt;\n<template lineStart=\"1\"><title>Feature</title><part><name index=\"1\"/><value>arma3 </value></part><part><name index=\"2\"/><value> Since '''<template><title>arma3</title></template>''' v1.57 a stackable MissionEventHandler is available and should be used instead: [[Arma_3:_Event_Handlers/addMissionEventHandler#MapSingleClick|MapSingleClick]].&lt;br&gt;\nBefore that, the functions [[BIS_fnc_addStackedEventHandler]] and [[BIS_fnc_removeStackedEventHandler]] should be used instead in order to keep compatibility between official and community content.</value></part></template>\n\n</value></part><part><name index=\"4\"/><value> [[onMapSingleClick]] command\n\n</value></part><part><name>p1</name>=<value> command: [[String]] or [[Code]]\n\n</value></part><part><name index=\"5\"/><value> [[Nothing]]\n\n</value></part><part><name>s2</name>=<value> params [[onMapSingleClick]] command\n\n</value></part><part><name>p21</name>=<value> params: [[Anything]]\n\n</value></part><part><name>p22</name>=<value> command: [[String]] or [[Code]]\n\n</value></part><part><name>r2</name>=<value> [[Nothing]]\n\n</value></part><part><name>x1</name>=<value> '''ArmA:''' Creates a soldier unit at the position clicked:\n&lt;code&gt;[[onMapSingleClick]] \"'SoldierWB' [[createUnit]] [_pos, [[group]] [[player]]]; true\";&lt;/code&gt;\n\n</value></part><part><name>x2</name>=<value> '''ArmA:''' Orders \"grp1\" to move to position clicked. Disables further map-click actions:\n&lt;code&gt;[[onMapSingleClick]] \"grp1 [[move]] _pos; [[onMapSingleClick]] <ext><name>nowiki</name><attr/><inner>'</inner><close>&lt;/nowiki&gt;</close></ext>'; [[true]]\";&lt;/code&gt;\n\n</value></part><part><name>x3</name>=<value> '''OFP:''' In OFP single quotes cannot be used for string definition, so two double-quotes have to be used instead:\n&lt;code&gt;[[onMapSingleClick]] \"'SoldierWB' [[createUnit]] [_pos, [[group]] [[player]]]; [[true]]\";&lt;/code&gt;\n\n</value></part><part><name>x4</name>=<value> &lt;code&gt;<template><title>cc</title><part><name index=\"1\"/><value>The following code will disable Shift+click waypoint marker creation</value></part></template>\n[[onMapSingleClick]] {_shift};&lt;/code&gt;\n\n</value></part><part><name>x5</name>=<value> &lt;code&gt;<template><title>cc</title><part><name index=\"1\"/><value>Pass params to onMapSingleClick code</value></part></template>\n[[player]] [[onMapSingleClick]] {[[hint]] (\"Hello \" + [[name]] _this)}; <template><title>cc</title><part><name index=\"1\"/><value>Hello KK</value></part></template>&lt;/code&gt;\n\n</value></part><part><name>x6</name>=<value> &lt;code&gt;<template><title>cc</title><part><name index=\"1\"/><value>Pass params to onMapSingleClick code '''and''' disable Shift+click waypoint marker creation</value></part></template>\n [[player]] [[onMapSingleClick]] \"[[hint]] (\"\"Hello \"\" + [[name]] [[Magic Variables#this|_this]]); _shift\"; <template><title>cc</title><part><name index=\"1\"/><value>Hello KK</value></part></template>&lt;/code&gt;\n\n</value></part><part><name>seealso</name>=<value> [[onGroupIconClick]]\n</value></part></template>\n\n&lt;dl class='command_description'&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>&lt;dd class=\"notedate\"&gt;Posted on 8 July, 2009&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:General Barron|General Barron]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nSee my [http://www.ofpec.com/editors-depot/index.php?action=details&amp;id=292&amp;game=ArmA Multiple OnMapSingleClick] script to allow you to add multiple events to the onMapSingleClick event. Some minor editing of the scripts would be required to use them in Arma.\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands OFP 1.96|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands OFP 1.99|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma1</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma2</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>tkoh</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on April 1, 2016 - 00:25 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\n&lt;tt&gt;_units&lt;/tt&gt; param is supposed to return what [[groupSelectedUnits]] returns. Player must be [[leader]] and some [[units]] in the [[group]] must be selected on the group bar. However selected units are connected with group orders menu, which interferes with map click. In other words, when you click on the main map, the map gets focus and group orders menu closes, deselecting any selected unit, so &lt;tt&gt;_units&lt;/tt&gt; is [] pretty much all the time. \n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}