{"parse":{"title":"setUnitLoadout","pageid":18135,"parsetree":{"*":"<root><template><title>RV</title><part><name>type</name>=<value>command\n</value></part><part><name index=\"1\"/><value> arma3\n</value></part><part><name index=\"2\"/><value>1.58\n</value></part><part><name>arg</name>=<value> global\n</value></part><part><name>eff</name>=<value> global\n\n</value></part><part><name>gr1</name>=<value> Unit Inventory\n\n</value></part><part><name>descr</name>=<value> Creates a loadout from given inventory structure and applies it to a unit. When [[String]] for class name is supplied, the command will search &lt;tt&gt;CfgVehicles&lt;/tt&gt; for the given class in order to extract the loadout from config. If [[Config]] is given, it will search given config (including [[missionConfigFile | mission config]]) for the loadout information. In either case, the config should contain the following entries, which is standard for any unit class, for example:\n<ext><name>syntaxhighlight</name><attr> lang=cpp</attr><inner>\nclass MyLoadout\n{\n\tuniformClass = \"U_B_CombatUniform_mcam\";\n\tbackpack = \"B_AssaultPack_mcamo\";\n\tlinkedItems[] = {\"V_PlateCarrier1_rgr\",\"H_HelmetB\",\"ItemCompass\",\"ItemWatch\",\"ItemRadio\",\"NVGoggles\"};\n\tweapons[] = {\"arifle_MX_ACO_pointer_F\",\"hgun_P07_F\"};\n\titems[] = {\"FirstAidKit\",\"FirstAidKit\",\"FirstAidKit\"};\n\tmagazines[] = {\"30Rnd_65x39_caseless_mag\",\"16Rnd_9x21_Mag\",\"SmokeShell\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\",\"HandGrenade\"};\n};</inner><close>&lt;/syntaxhighlight&gt;</close></ext>\n\n</value></part><part><name>s1</name>=<value> unit [[setUnitLoadout]] loadout\n\n</value></part><part><name>p1</name>=<value> unit: [[Object]]\n\n</value></part><part><name>p2</name>=<value> loadout: [[Array]] - [[Unit Loadout Array]]\n\n</value></part><part><name>r1</name>=<value> [[Nothing]]\n\n</value></part><part><name>s2</name>=<value> unit [[setUnitLoadout]] [loadout, fullMagazines]\n\n</value></part><part><name>p21</name>=<value> unit: [[Object]]\n\n</value></part><part><name>p22</name>=<value> loadout: [[Array]] - [[Unit Loadout Array]]\n\n</value></part><part><name>p23</name>=<value> fullMagazines: [[Boolean]] - Partially emptied magazines will be refilled when the loadout is applied\n\n</value></part><part><name>r2</name>=<value> [[Nothing]]\n\n</value></part><part><name>s3</name>=<value> unit [[setUnitLoadout]] name\n\n</value></part><part><name>p41</name>=<value> unit: [[Object]]\n\n</value></part><part><name>p42</name>=<value> name: [[String]] - class name (see description)\n\n</value></part><part><name>r3</name>=<value> [[Nothing]]\n\n</value></part><part><name>s4</name>=<value> unit [[setUnitLoadout]] config\n\n</value></part><part><name>p61</name>=<value> unit: [[Object]]\n\n</value></part><part><name>p62</name>=<value> config: [[Config]] - config class (see description)\n\n</value></part><part><name>r4</name>=<value> [[Nothing]]\n\n</value></part><part><name>x1</name>=<value> &lt;code&gt;player_2 [[setUnitLoadout]] ([[getUnitLoadout]] player_1); // Copies loadout from player_1 and applies it to player_2 &lt;/code&gt;\n</value></part><part><name>x2</name>=<value> &lt;code&gt;player_2 [[setUnitLoadout]] [<ext><name>nowiki</name><attr/></ext>[[getUnitLoadout]] player_1, [[true]]]; // Copies loadout from player_1 and applies it to player_2 while topping up all magazines&lt;/code&gt;\n</value></part><part><name>x3</name>=<value> &lt;code&gt;_unit [[setUnitLoadout]] \"B_Soldier_F\";&lt;/code&gt;\n</value></part><part><name>x4</name>=<value> &lt;code&gt;_unit [[setUnitLoadout]] ([[configFile]] &gt;&gt; \"CfgVehicles\" &gt;&gt; \"B_Soldier_F\");&lt;/code&gt;\n</value></part><part><name>x5</name>=<value> &lt;code&gt;_unit [[setUnitLoadout]] ([[missionConfigFile]] &gt;&gt; \"MyLoadout\");&lt;/code&gt;\n</value></part><part><name>x6</name>=<value> Strip unit of everything (after Arma 3 v1.93):&lt;code&gt;_unit [[setUnitLoadout]] ([[configFile]] &gt;&gt; \"EmptyLoadout\");&lt;/code&gt;\n\n</value></part><part><name>seealso</name>=<value> [[getUnitLoadout]]\n</value></part></template>\n\n\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>Scripting Commands</value></part></template>\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n<template lineStart=\"1\"><title>GameCategory</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>New Scripting Commands</value></part></template>\n\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on December 17, 2019 - 23:08 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:demellion|demellion]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\n'''NOTE:''' Empty or used magazines in loadouts will be refilled under specific circumstance, even if the refill argument is [[false]]. This seems to happen if amount of used magazines is 2 or more.\n&lt;code&gt;player setUnitLoadout [\n\t[\"arifle_MX_ACO_pointer_F\",\"\",\"acc_pointer_IR\",\"optic_Aco\",[],[],\"\"],\n\t[],\n\t[\"hgun_P07_F\",\"\",\"\",\"\",[\"16Rnd_9x21_Mag\",16],[],\"\"],\n\t[\"U_B_CombatUniform_mcam\",[ [\"30Rnd_65x39_caseless_mag\",1,1] ]],\n\t[\"V_PlateCarrier1_rgr\",[]],\n\t[\"B_AssaultPack_mcamo_Ammo\",[]],\n\t\"H_HelmetB_grass\",\"\",[],[\"ItemMap\",\"\",\"ItemRadio\",\"ItemCompass\",\"ItemWatch\",\"NVGoggles\"]\n]&lt;/code&gt;\nWill result in 30Rnd magazine with one bullet in it.\n&lt;code&gt;player setUnitLoadout [\n\t[\"arifle_MX_ACO_pointer_F\",\"\",\"acc_pointer_IR\",\"optic_Aco\",[],[],\"\"],\n\t[],\n\t[\"hgun_P07_F\",\"\",\"\",\"\",[\"16Rnd_9x21_Mag\",16],[],\"\"],\n\t[\"U_B_CombatUniform_mcam\",[ [\"30Rnd_65x39_caseless_mag\",2,1] ]],\n\t[\"V_PlateCarrier1_rgr\",[]],\n\t[\"B_AssaultPack_mcamo_Ammo\",[]],\n\t\"H_HelmetB_grass\",\"\",[],[\"ItemMap\",\"\",\"ItemRadio\",\"ItemCompass\",\"ItemWatch\",\"NVGoggles\"]\n]&lt;/code&gt;\nWill result in 2 magazines but full, 30 rounds in it. This applies to any magazines count &gt;2. They will never be with specified amount of rounds, even if you force the refill argument to [[false]]\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on October 23, 2020 - 21:16 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Andrew_S90|Andrew_S90]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nHere is a command I wrote up that provides a fix for the ammo bug described by demellion above.\nhttps://pastebin.com/SHX41Jkk\nPass a loadout to your compiled command and it will provide one back that will not refill ammo\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}