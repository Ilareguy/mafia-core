{"parse":{"title":"nearestObjects","pageid":2565,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> arma </value></part><part><name>Game name</name>=<value>\n\n</value></part><part><name index=\"2\"/><value>1.00</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> Object Detection </value></part><part><name>GROUP1</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> Returns a list of nearest objects of the given types to the given position or object, within the specified distance. If more than one object is found they will be ordered by proximity, the closest one will be first in the array. Alternatively, you can use [[nearObjects]] command, which doesn't sort results.\n&lt;br&gt;&lt;br&gt;\nA list of ClassName types (e.g &lt;tt&gt;Tank&lt;/tt&gt;) can be found in [[:Category:CfgVehicles|CfgVehicles]].\n&lt;br&gt;&lt;br&gt;\n<template lineStart=\"1\"><title>Important </title><part><name index=\"1\"/><value> This command matches objects using [[isKindOf]] comparison instead of direct class name [[==]] comparison. As a result, if a class type is a parent, the search will return all objects that inherit from the parent as well as parent itself. This command also only finds objects that are '''[[entities]]'''. If you are looking for non-entity objects, see [[nearObjects]], [[nearestObject]].</value></part></template> </value></part><part><name>DESCRIPTION</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> [[nearestObjects]] [position, types, radius, 2Dmode] </value></part><part><name>Syntax</name>=<value>\n\n</value></part><part><name>p1</name>=<value> [position, types, radius, 2Dmode]: [[Array]] </value></part><part><name>PARAMETER1</name>=<value>\n\n</value></part><part><name>p2</name>=<value> position:  [[Object]]  or [[Array]] in format [[PositionAGL]] or [[Position2D]] - where to find objects, center position. </value></part><part><name>PARAMETER2</name>=<value>\n\n</value></part><part><name>p3</name>=<value> types: [[Array]] - list of class name of the objects to search for. Use an empty array <template><title>Inline code</title><part><name index=\"1\"/><value>[]</value></part></template> to search for all classes. </value></part><part><name>PARAMETER3</name>=<value>\n\n</value></part><part><name>p4</name>=<value> radius: [[Number]] - range from center position to search for objects. </value></part><part><name>PARAMETER4</name>=<value>\n\n</value></part><part><name>p5</name>=<value> <template><title>GVI</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>1.65</value></part></template> 2Dmode (Optional, default [[false]]): [[Boolean]] - [[true]] for 2D distance, [[false]] for 3D distance <template><title>since</title><part><name index=\"1\"/><value>arma3</value></part><part><name index=\"2\"/><value>1.65.138818</value></part><part><name index=\"3\"/><value>y</value></part></template> </value></part><part><name>PARAMETER5</name>=<value>\n\n</value></part><part><name index=\"5\"/><value> [[Array]] - array of objects </value></part><part><name>RETURNVALUE</name>=<value>\n____________________________________________________________________________________________\n\t\t  \n</value></part><part><name>x1</name>=<value> &lt;code&gt;[[nearestObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [\"Car\", \"Tank\"], 200];&lt;/code&gt; </value></part><part><name>EXAMPLE1</name>=<value>\n\n</value></part><part><name>x2</name>=<value> &lt;code&gt;[[nearestObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [\"house\"], 200];&lt;/code&gt; </value></part><part><name>EXAMPLE2</name>=<value>\n\n</value></part><part><name>x3</name>=<value> &lt;code&gt;[[nearestObjects]] [<ext><name>nowiki</name><attr/></ext>[2716,2949,0], [\"Car\", \"Truck\"], 100];&lt;/code&gt; </value></part><part><name>EXAMPLE3</name>=<value>\n\n</value></part><part><name>x4</name>=<value> Return every object in 50 metres radius around player:&lt;code&gt;[[nearestObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [], 50]&lt;/code&gt; </value></part><part><name>EXAMPLE4</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"6\"/><value> [[nearestTerrainObjects]], [[findNearestEnemy]], [[nearestBuilding]], [[nearestObject]], [[nearObjects]], [[nearestLocation]], [[nearEntities]], [[nearTargets]], [[nearSupplies]], [[nearestLocationWithDubbing]], [[nearObjectsReady]], [[nearRoads]] </value></part><part><name>SEEALSO</name>=<value>\n</value></part></template>\n\n&lt;h3 style=\"display:none\"&gt;Notes&lt;/h3&gt;\n&lt;dl class=\"command_description\"&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>\n&lt;dd class=\"notedate\"&gt;Posted on unknown\n&lt;dt class=\"note\"&gt;[[User:Vigilante|Vigilante]]\n&lt;dd class=\"note\"&gt;\nTo get a list with alive targets for various situations use this construct:\n&lt;code&gt;_nearestTargets = [[nearestObjects]] [_submunScanPos, [\"VBS2_TANK\",\"TANK\"], _scanArea];\n_validNearestTargets = [];\n{ [[if]] ([[alive]] _x ) [[then]] { _validNearestTargets [[set]] [([[count]] _validNearestTargets), _x]; }; } [[forEach]] _nearestTargets;&lt;/code&gt;\nresults in _validNearestTargets being filled with targets == alive .. (you could use other conditions there, of course!)\n\n&lt;dd class=\"notedate\"&gt;Posted on 10. Aug. 2010\n&lt;dt class=\"note\"&gt;[[User:R\u00fcbe|R\u00fcbe]]\n&lt;dd class=\"note\"&gt;Passing an empty array to define the types will also return objects with no class at all (such as trees, bushes, stones, ...). \nExample:\n&lt;code&gt;_objects = [[nearestObjects]] [_position, [], _radius];&lt;/code&gt;\nPassing the array [\"All\"] is not the same and will only return objects that have some sort of class.\n\n&lt;dd class=\"notedate\"&gt;Posted on 11.09.2013\n&lt;dt class=\"note\"&gt;[[User:Katulobotomia|Katulobotomia]]\n&lt;dd class=\"note\"&gt;If you want to detect nearby grenades for the position of a unit, for example, using 'nearestObjects' won't work. You have to use\n'nearObjects' instead.\n&lt;code&gt;[[count]] ([[nearestObjects]] [_unit, [\"GrenadeHand\"], 30]) <template><title>cc</title><part><name index=\"1\"/><value>WON'T WORK</value></part></template>&lt;/code&gt;\nWon't ever return anything but 0.\n&lt;code&gt;[[count]] (_unit [[nearObjects]] [\"GrenadeHand\", 30]) <template><title>cc</title><part><name index=\"1\"/><value>WORKS!</value></part></template>&lt;/code&gt;\nWill work.\n\n&lt;dd class=\"notedate\"&gt;Posted on March 22, 2014\n&lt;dt class=\"note\"&gt;[[User:AgentRev01|AgentRev]]\n&lt;dd class=\"note\"&gt;The distance from which an object is determined to be inside the radius is calculated from its model center (object modelToWorld [0,0,0]), and not the position returned by getPos/ATL/ASL. If an object is used as the origin from which to scan, distance is calculated from its model center as well.\n\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n&lt;h3 style=\"display:none\"&gt;Bottom Section&lt;/h3&gt;\n\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Armed Assault|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 2|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Take On Helicopters|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on October 26, 2014 - 15:15 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nReturn all trees in 100m radius around player:\n&lt;code&gt;[[private]] _trees <template><title>=</title></template> []; \n{\n    [[if]] ([[str]] _x [[find]] \": t_\" &gt; -1) [[then]] {\n        _trees [[pushBack]] _x;\n    };\n} [[forEach]] [[nearestObjects]] [<ext><name>nowiki</name><attr/></ext>[[player]], [], 100];&lt;/code&gt; \n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on August 27, 2015 - 16:45 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Tankbuster|Tankbuster]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nIf you use \"Man\" as the class to look for, it will only find dismounted men. IE, men in vehicles will NOT be found.\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on January 8, 2016 - 12:14 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nThe first call to this command can take significantly longer then consecutive calls. But even after the objects in given radius were cached, the sorting this command performs could be quite expensive. For example to sort ~7000 object it might take up to 100ms. For performance reasons you can use [[nearObjects]] instead, which is basically the same command but without added sorting.\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on March 2, 2016 - 23:09 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Ceeeb|Ceeeb]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nIn Arma 3, nearestObjects is partially broken and is unable to return nearby placed explosive charges or mines when searching by classnames. Use [[nearObjects]], [[nearestObject]] or [[allMines]] instead.&lt;br&gt;\nExample of non-functional code:\n&lt;code&gt;<template><title>cc</title><part><name index=\"1\"/><value>always returns nothing, even if there are objects that should be returned</value></part></template>\nnearestObjects [position player, [\"APERSMine_Range_Ammo\", \"SatchelCharge_Remote_Ammo\"], 10]&lt;/code&gt;\n&lt;/dd&gt;\n\n&lt;dd class=\"notedate\"&gt;Posted on October 31, 2016 - 00:32 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone Kid|Killzone Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nSince Arma 3 v1.65.138818 the default sorting is done according to 3D distance not [[distance2D]] as before. This is an attempt to correct some very old bug in implementation. \n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}