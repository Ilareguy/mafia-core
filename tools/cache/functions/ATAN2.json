{"parse":{"title":"atan2","pageid":1403,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> ofp </value></part><part><name>Game name</name>=<value>\n\n</value></part><part><name index=\"2\"/><value>1.00</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> Math - Geometry </value></part><part><name>GROUP1</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> ArcTangent of ''x/y''. Used to determine the angle of a vector ''[x,y]''. Result in [[Number#Degrees|Degrees]] between -180 and 180.\n&lt;br&gt;&lt;br&gt;\n<template lineStart=\"1\"><title>Informative </title><part><name index=\"1\"/><value> This command can handle ''y'' being 0, unlike when using [[atan]], and will return 90 </value></part></template>\n&lt;br&gt;\n<template lineStart=\"1\"><title>Important </title><part><name index=\"1\"/><value> Even though this command is a binary operator just like [[select]] command, it has [[SQF_syntax#Rules_of_Precedence | higher precedence]] than [[select]] command, therefore the following expression: &lt;br&gt;&lt;tt&gt;_pos select 0 [[atan2]] (_pos select 1)&lt;/tt&gt;&lt;br&gt; will produce an error. The correct usage in this case will be: &lt;br&gt;&lt;tt&gt;(_pos select 0) [[atan2]] (_pos select 1)&lt;/tt&gt;</value></part></template></value></part><part><name>DESCRIPTION</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> x '''atan2''' y </value></part><part><name>SYNTAX</name>=<value>\n\n</value></part><part><name>p1</name>=<value>  x: [[Number]] </value></part><part><name>PARAMETER1</name>=<value>\n\n</value></part><part><name>p2</name>=<value>  y: [[Number]] </value></part><part><name>PARAMETER2</name>=<value>\n\n\n</value></part><part><name index=\"5\"/><value> [[Number]] \n\n&lt;br&gt;&lt;br&gt;[[Image:atan.jpg|200px]]</value></part><part><name>RETURNVALUE</name>=<value> \n____________________________________________________________________________________________\n\t\t  \n</value></part><part><name>x1</name>=<value> &lt;code&gt;_xy = [5,3];\n_degrees = (_xy [[select]] 0) [[atan2]] (_xy [[select]] 1); //59.0362&lt;/code&gt;</value></part><part><name>EXAMPLE1</name>=<value>\n\n</value></part><part><name>x2</name>=<value> Get direction from _obj1 to _obj2:&lt;code&gt;_vd = [[getPosASL]] _obj2 [[vectorDiff]] [[getPosASL]] _obj1;\n_dir = (_vd [[select]] 0) [[atan2]] (_vd [[select]] 1); //_dir range from -180 to +180 \n[[if]] (_dir &lt; 0) [[then]] {_dir = 360 + _dir}; //_dir range from 0 to 360&lt;/code&gt;</value></part><part><name>EXAMPLE2</name>=<value>\n\n</value></part><part><name>x3</name>=<value> Get relative direction from _obj1 to _obj2:&lt;code&gt;_xy = _obj1 [[worldToModel]] [[getPosASL]] _obj2;\n_dir = (_xy [[select]] 0) [[atan2]] (_xy [[select]] 1); //_dir range from -180 to +180 \n[[if]] (_dir &lt; 0) [[then]] {_dir = 360 + _dir}; //_dir range from 0 to 360&lt;/code&gt;</value></part><part><name>EXAMPLE3</name>=<value>\n____________________________________________________________________________________________\n\n\n\n</value></part><part><name index=\"6\"/><value> [[atan]], [[tan]], [[sin]], [[cos]], [[asin]], [[acos]], [[rad]], [[pi]], [[vectorCos]], [[getPos]], [[getRelPos]], [[Math Commands]] </value></part><part><name>SEEALSO</name>=<value>\n\n</value></part></template>\n\n&lt;h3 style=\"display:none\"&gt;Notes&lt;/h3&gt;\n&lt;dl class=\"command_description\"&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>&lt;dd class=\"notedate\"&gt;Posted on 08:00, 18 November 2009\n&lt;dt class=\"note\"&gt;[[User:KeV|KeV]]&lt;dd class=\"note\"&gt;\nTo get the direction of an object from the player: \n&lt;code&gt;\n_dir = (([[getPos]] _obj [[select]] 0) - ([[getPos]] [[player]] [[select]] 0)) [[atan2]] (([[getPos]] _obj [[select]] 1) - ([[getPos]] [[player]] [[select]] 1)); \n//_dir will be from -180 to 180.\n&lt;/code&gt;\nIf positive values are needed then use:\n&lt;code&gt;\n[[if]] (_dir &lt; 0) [[then]] {_dir = _dir + 360};\n&lt;/code&gt;\nOr just use [[BIS_fnc_dirTo]] directly.\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n&lt;h3 style=\"display:none\"&gt;Bottom Section&lt;/h3&gt;\n\n[[Category:Scripting Commands|ATAN2]]\n[[Category:Scripting Commands OFP 1.99|ATAN2]]\n[[Category:Scripting Commands OFP 1.96|ATAN2]]\n[[Category:Scripting Commands OFP 1.46|ATAN2]]\n[[Category:Scripting Commands Armed Assault|ATAN2]]\n[[Category:Scripting Commands Arma 2|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Take On Helicopters|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]</root>"}}}