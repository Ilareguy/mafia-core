{"parse":{"title":"inGameUISetEventHandler","pageid":2669,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> arma </value></part><part><name>Game name</name>=<value>\n</value></part><part><name index=\"2\"/><value>1.00</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>eff</name>=<value> local</value></part><part><name>Multiplayer Effects</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> GUI Control - Event Handlers </value></part><part><name>GROUP1</name>=<value>\n</value></part><part><name>gr2</name>=<value> Event Handlers </value></part><part><name>GROUP2</name>=<value>\n</value></part><part><name>gr3</name>=<value> Interaction </value></part><part><name>GROUP3</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> Sets given event handler of in-game UI. If EH function returns [[true]], performed action is overridden. Event handlers available are:\n* \"PrevAction\" - mouse scroll up\n* \"Action\" - action key press\n* \"NextAction\" - mouse scroll down\nThis is \"set\" type EH, which means it will replace previously set EH of the same type. So to remove EH, set another one with empty string \"\" for the function.\n&lt;br&gt;&lt;br&gt;\nSince Arma 3 v1.49.131743 this EH returns array of params for selected/activated action in ''_this'' variable:\n* 0: [[Object]] - target object to which action is attached\n* 1: [[Object]] - caller object, basically [[player]]\n* 2: [[Number]] - index of the action in action menu (0 - top most)\n* 3: [[String]] - engine based action name (\"User\" for user added actions)\n* 4: [[String]] - [[localize]]d action plain text as seen by the caller\n* 5: [[Number]] - action ''priority'' value\n* 6: [[Boolean]] - action ''showWindow'' value\n* 7: [[Boolean]] - action ''hideOnUse'' value\n* 8: [[String]] - action ''shortcut'' name or \"\"\n* 9: [[Boolean]] - action menu visibility (on first scroll or action press the menu is still invisible, so no action is performed, only menu is shown). See also: [[isActionMenuVisible]] \n* 10: [[String]] - EH event name</value></part><part><name>DESCRIPTION</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> '''inGameUISetEventHandler''' [handlerName, function] </value></part><part><name>SYNTAX</name>=<value>\n\n</value></part><part><name>p1</name>=<value> [handlerName, function]: [[Array]] </value></part><part><name>PARAMETER1</name>=<value>\n</value></part><part><name>p2</name>=<value> handlerName: [[String]] </value></part><part><name>PARAMETER2</name>=<value>\n\n</value></part><part><name>p3</name>=<value> function: [[String]] </value></part><part><name>PARAMETER3</name>=<value>\n\n\n</value></part><part><name index=\"5\"/><value> [[Nothing]] </value></part><part><name>RETURNVALUE</name>=<value>\n\n</value></part><part><name>x1</name>=<value> &lt;code&gt;[[inGameUISetEventHandler]] [\"Action\",\"hint 'Lights, Camera, Action!'; [[true]]\"];&lt;/code&gt;</value></part><part><name>EXAMPLE1</name>=<value>\n\n</value></part><part><name>x2</name>=<value> &lt;code&gt;[[inGameUISetEventHandler]] [\"PrevAction\", \"[[hint]] [[str]] _this; [[false]]\"];\n[[inGameUISetEventHandler]] [\"NextAction\", \"[[hint]] [[str]] _this; [[false]]\"];\n[[inGameUISetEventHandler]] [\"Action\", \"[[hint]] [[str]] _this; [[false]]\"];&lt;/code&gt;</value></part><part><name>EXAMPLE2</name>=<value>\n\n</value></part><part><name>x3</name>=<value> Deny any weapon disassembly: &lt;code&gt;[[inGameUISetEventHandler]] [\"Action\", \"\n\t[[if]] (_this [[select]] 3 == 'DisAssemble') [[then]] {\n\t\t[[hint]] 'You are not allowed to do this'; \n\t\t[[true]]\n\t}\n\"];&lt;/code&gt;</value></part><part><name>EXAMPLE3</name>=<value>\n\n</value></part><part><name>x4</name>=<value> Detect explosive/mine placement:&lt;code&gt;onMagazineUse = '\n\t[[params]] [\"_target\", \"\", \"\", \"_action\", \"\", \"\", \"\", \"\", \"\", \"\", \"_event\"];\n\t[[if]] (_action == \"UseMagazine\") [[then]] {\n\t\t[[if]] (_event == \"Action\") [[then]] {\n\t\t\t0 = _target [[spawn]] {\n\t\t\t\t[[waitUntil]] {!(all_magazines [[isEqualTo]] [[magazines]] _this)};\n\t\t\t\t{\n\t\t\t\t\t0 = all_magazines [[deleteAt]] (all_magazines [[find]] _x);\n\t\t\t\t} [[count]] [[magazines]] _this;\n\t\t\t\t[[hint]] [[format]] [\"Magazine Used: %1\", all_magazines [[select]] 0];\n\t\t\t}\n\t\t} [[else]] {\n\t\t\tall_magazines = [[magazines]] _target;\n\t\t};\n\t};\n\t[[false]]\n';\n[[inGameUISetEventHandler]] [\"PrevAction\", onMagazineUse];\n[[inGameUISetEventHandler]] [\"NextAction\", onMagazineUse];\n[[inGameUISetEventHandler]] [\"Action\", onMagazineUse];&lt;/code&gt;</value></part><part><name>EXAMPLE4</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"6\"/><value> [[isActionMenuVisible]], [[addEventHandler]], [[ctrlAddEventHandler]], [[displayAddEventHandler]], [[actionIDs]], [[actionParams]], [[addAction]], [[setUserActionText]], [[showHUD]], [[inputAction]], [[removeAction]], [[removeAllActions]], [[action]], [[enableWeaponDisassembly]] </value></part><part><name>SEEALSO</name>=<value>\n\n</value></part></template>\n\n&lt;h3 style=\"display:none\"&gt;Notes&lt;/h3&gt;\n&lt;dl class=\"command_description\"&gt;\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>\n<comment>&lt;!-- Note Section END --&gt;\n</comment>&lt;/dl&gt;\n\n&lt;h3 style=\"display:none\"&gt;Bottom Section&lt;/h3&gt;\n[[Category:Scripting Commands|INGAMEUISETEVENTHANDLER]]\n[[Category:Scripting Commands Armed Assault|INGAMEUISETEVENTHANDLER]]\n[[Category:Scripting Commands Arma 2|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Take On Helicopters|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on May 12, 2016 - 20:51 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:AgentRevolution|AgentRev]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nIn case of the \"Action\" event, (param 6 || param 9) also denotes if the action is performed or not. For example, if the action menu is closed or fading off, pressing Spacebar will bring it up and trigger an \"Action\" event; in that case, param 9 (action menu visibility) is false. But if the action menu is open, and Spacebar is pressed to perform the selected action, then param 9 will be true. If param 6 (showWindow) is true, then it means the action was performed, regardless of param 9.\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;\n</comment><comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on February 08, 2017 - 18:53 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Pierre MGI|Pierre MGI]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nThis powerful command can override the actions (previous/next/action), depending on true/false return.&lt;br&gt;But, the command overrides itself, no matter of the returned value. That means, if two mods or scripts are using the same command parameter, say 'action', the last inGameUISetEventHandler 'action' will override the first one.&lt;br&gt;Example:&lt;br&gt;trigger1 :\n&lt;code&gt;inGameUISetEventHandler [\"Action\",\"hint 'action for mod 1';true \"];// true or false doesn't matter here&lt;/code&gt;\ntrigger2 (delayed):\n&lt;code&gt;inGameUISetEventHandler [\"Action\",\"false \"];// true or false doesn't matter here&lt;/code&gt;\ntrigger2 will run after trigger1, then, you'll never see the hint, what ever the trigger2 action code could be. What ever could be the last code, it will override all previous ones.&lt;br&gt;You have to group these codes in a same event handler.&lt;br&gt;But, beyond this, inGameUISetEventHandler is not stackable and implies a competition between scripts (or mods) using it.\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}