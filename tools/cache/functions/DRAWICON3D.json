{"parse":{"title":"drawIcon3D","pageid":12288,"parsetree":{"*":"<root><template><title>Command</title><part><name>Comments</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"1\"/><value> arma3 </value></part><part><name>Game name</name>=<value>\n\n</value></part><part><name index=\"2\"/><value>0.50</value></part><part><name>Game version</name>=<value>\n\n</value></part><part><name>gr1</name>=<value> Interaction </value></part><part><name>GROUP1</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"3\"/><value> Draws an ingame icon at a given position. Command has to be executed each frame. Use [[addMissionEventHandler]] \"Draw3D\" which is executed each frame and if user can see the drawing. In order for the results of this command to be visible through a [[camCreate | custom camera]], enable HUD with [[cameraEffectEnableHUD]]. [[showHUD]] [[false]] will hide icon drawing. In order for arrows to appear, the icon texture should exist. The arrows size is proportionate to icon size. </value></part><part><name>DESCRIPTION</name>=<value>\n____________________________________________________________________________________________\n\n</value></part><part><name index=\"4\"/><value> '''drawIcon3D''' [texture, color, position, width, height, angle, text, shadow, textSize, font, textAlign, drawSideArrows] </value></part><part><name>SYNTAX</name>=<value>\n\n</value></part><part><name>p1</name>=<value> [texture, color, position, width, height, angle, text, shadow, textSize, font, textAlign, drawSideArrows]: [[Array]]  </value></part><part><name>PARAMETER1</name>=<value> \n\n</value></part><part><name>p2</name>=<value> texture: [[String]] - icon image </value></part><part><name>PARAMETER2</name>=<value> \n\n</value></part><part><name>p3</name>=<value> color: [[Array]] - icon color in [[Color|Color (RGBA)]] format </value></part><part><name>PARAMETER3</name>=<value> \n\n</value></part><part><name>p4</name>=<value> position: [[Array]] - icon world position in [[PositionAGL]] format </value></part><part><name>PARAMETER4</name>=<value> \n\n</value></part><part><name>p5</name>=<value> width: [[Number]] - icon width </value></part><part><name>PARAMETER5</name>=<value> \n\n</value></part><part><name>p6</name>=<value> height: [[Number]] - icon height  </value></part><part><name>PARAMETER6</name>=<value> \n\n</value></part><part><name>p7</name>=<value> angle: [[Number]] - icon rotation angle  </value></part><part><name>PARAMETER7</name>=<value> \n\n</value></part><part><name>p8</name>=<value> text (Optional): [[String]] - text label to display next to icon. Default: \"\". </value></part><part><name>PARAMETER8</name>=<value> \n\n</value></part><part><name>p9</name>=<value> shadow (Optional): [[Number]] or [[Boolean]] - if number: 0 = none, 1 = shadow (not used in this context, used in UI context), 2 = outline; if boolean: [[true]] - outline, [[false]] - none. Default: none.  </value></part><part><name>PARAMETER9</name>=<value> \n\n</value></part><part><name>p10</name>=<value> textSize (Optional): [[Number]] - the size of the text. Default: whatever the default size is set for the system.</value></part><part><name>PARAMETER10</name>=<value> \n\n</value></part><part><name>p11</name>=<value> font (Optional): [[String]] - font class name from CfgFontFamilies. Default: \"RobotoCondensed\", </value></part><part><name>PARAMETER11</name>=<value> \n</value></part><part><name>p12</name>=<value> textAlign (Optional): [[String]] - \"left\", \"center\", \"right\". Default: \"right\". </value></part><part><name>PARAMETER12</name>=<value> \n</value></part><part><name>p13</name>=<value> drawSideArrows (Optional): [[Boolean]] - [[true]] to draw arrows and the text label at edge of screen when icon moves off screen. Default: [[false]].  </value></part><part><name>PARAMETER13</name>=<value> \n\n</value></part><part><name index=\"5\"/><value> [[Nothing]] </value></part><part><name>RETURNVALUE</name>=<value> \n\n\n</value></part><part><name>x1</name>=<value> Icon and text:&lt;code&gt;[[addMissionEventHandler]] [\"Draw3D\", {\n\t[[drawIcon3D]] [\"targetIcon.paa\", [1,1,1,1], [[ASLToAGL]] [[getPosASL]] [[cursorTarget]], 1, 1, 45, \"Target\", 1, 0.05, \"TahomaB\"];\n}];&lt;/code&gt;</value></part><part><name>EXAMPLE1</name>=<value> \n\n\n</value></part><part><name>x2</name>=<value> Just text:\n&lt;code&gt;[[addMissionEventHandler]] [\"Draw3D\", {\n\t[[drawIcon3D]] [\"\", [1,0,0,1], [[ASLToAGL]] [[getPosASL]] [[cursorTarget]], 0, 0, 0, \"Target\", 1, 0.05, \"PuristaMedium\"];\n}];&lt;/code&gt;</value></part><part><name>EXAMPLE2</name>=<value> \n____________________________________________________________________________________________\n\n</value></part><part><name index=\"6\"/><value> [[drawLine3D]], [[getMissionPath]] </value></part><part><name>SEEALSO</name>=<value> \n\n</value></part><part><name index=\"7\"/><value>  </value></part><part><name>MPBEHAVIOUR</name>=<value> \n____________________________________________________________________________________________\n</value></part></template>\n\n&lt;h3 style='display:none'&gt;Notes&lt;/h3&gt;\n\n<comment>&lt;!-- Note Section BEGIN --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on August 31, 2013&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Killzone_Kid|Killzone_Kid]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;As command syntax indicates, this command expects icon position in format [[PositionAGL]] meaning that over the land it expects [[PositionATL]] and over the sea [[PositionASLW]]. &lt;br&gt;&lt;br&gt;\n\nThis command works well with addon textures, however getting it to display mission textures is a bit tricky. Follow [http://killzonekid.com/arma-scripting-tutorials-mission-root/ this guide].\n&lt;/dd&gt;\n&lt;/dl&gt;\n\n&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on April 19, 2014&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:AgentRevolution|AgentRev]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;You should rely exclusively on [[modelToWorldVisual]] for a moving object's icon position if you want it to accurately stay at the correct height over the sea. It computes faster than [[ASLtoAGL]].&lt;br&gt;&lt;br&gt;\n\nWidth, height, and textSize are proportional to the user's interface size, which can optionally be compensated against via &lt;tt&gt;size / ([[getResolution]] select 5)&lt;/tt&gt;&lt;br&gt;&lt;br&gt;\n\nAdditionally, width and height are inversely proportional to the &lt;tt&gt;fovLeft&lt;/tt&gt; and &lt;tt&gt;fovTop&lt;/tt&gt; parameters from the user's [[Profile|ArmaProfile]], and AFAIK those parameters are not retrievable via scripting. For example, a &lt;tt&gt;fovTop&lt;/tt&gt; higher than the default value of 0.75 will make all 3D icons smaller vertically. I'm not sure if this is a bug or by design, however it is definitely annoying to take into account.\n&lt;/dd&gt;\n&lt;/dl&gt;\n\n&lt;h3 style='display:none'&gt;Bottom Section&lt;/h3&gt;\n[[Category:Arma_3:_New_Scripting_Commands_List|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands Arma 3|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n[[Category:Scripting Commands|<template><title>uc:<template><title>PAGENAME</title></template></title></template>]]\n\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on October 23, 2014 - 02:42 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:DreadedEntity|DreadedEntity]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\n[[drawIcon3D]] and [[BIS_fnc_addStackedEventHandler]] work well together.&lt;br&gt;&lt;br&gt;\n\nUsing formatting commands with [[drawIcon3D]] will not work, instead, they will be added to the string.&lt;br&gt;\n&lt;code&gt;[\"uniqueID\", \"onEachFrame\", \n{\n\tdrawIcon3D[\"myIcon.jpg\", [1,1,1,0.5], getPos player, 1, 1, 0, format[\"%1\\n%2\", \"Dreaded\", \"Entity\"]];\n}] call BIS_fnc_addStackedEventHandler;&lt;/code&gt;\nShown text will be '''Dreaded\\nEntity'''. '''(A3 1.32.127785)'''&lt;br&gt;&lt;br&gt;\n\nThe \"text\" parameter must be a string. You cannot use [[Structured_Text]].&lt;br&gt;\n&lt;code&gt;[\"uniqueID\", \"onEachFrame\", \n{\n\tdrawIcon3D\n\t[\n\t\t\"myIcon.jpg\",\n\t\t[1,1,1,0.5],\n\t\tgetPos player,\n\t\t1,\n\t\t1,\n\t\t0,\n\t\tparseText format[\"&lt;t size='1.25' font='PuristaLight' color='#ff0000'&gt;%1%2&lt;/t&gt;\", Dreaded, Entity]\n\t];\n}] call BIS_fnc_addStackedEventHandler;&lt;/code&gt;\n'''(A3 1.32.127785)'''\n&lt;/dd&gt;\n&lt;/dl&gt;\n\n&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on November 13 (2014)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Iceman77|Iceman77]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;\nHere's a practical example combining both drawLine3D and drawIcon3D. Note: You may want to use visiblePosition instead of getPos for moving objects.   \n&lt;code&gt;DEADPILOTS = [];\n{\n    if (getText (configfile &gt;&gt; \"CfgVehicles\" &gt;&gt; typeOf _x &gt;&gt; \"textSingular\") == \"pilot\") then {\n\tDEADPILOTS pushBack _x;\n    };\n} forEach allDeadMen;\n\naddMissionEventHandler [\"Draw3D\", { \t\n    if (\n\t{\n\t    player distance _x &lt;= 15\n\t} count DEADPILOTS &gt; 0\n       ) then {\n        {\n\t    _corpsePos = getPos _x;\n\t    if (player distance _corpsePos &lt;= 15) then {\n\t\t_line1_start = _corpsePos;\n\t\t_line1_end = [(_line1_start select 0), (_line1_start select 1), 0.5];\n\t\t_line2_start = [(_line1_end select 0), (_line1_end select 1) + 0.5, (_line1_end select 2)];\t\t\t\t\n\t\tdrawLine3D [_line1_start, _line1_end, [0,0,0,0.5]];\n\t\tdrawLine3D [_line1_end, _line2_start, [0,0,0,0.5]];\t\t\n\t\tdrawIcon3D [\"\\a3\\ui_f\\data\\gui\\cfg\\hints\\BasicLook_ca.paa\", [0,0,0,0.5], _line2_start, 0.75, 0.75, 0];\n\t    };\n\t} forEach DEADPILOTS;\n    };\n}];\n&lt;/code&gt;\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;\n</comment>\n<comment>&lt;!-- CONTINUE Notes --&gt;\n</comment>&lt;dl class=\"command_description\"&gt;\n&lt;dd class=\"notedate\"&gt;Posted on February 11, 2016 - 07:37 (UTC)&lt;/dd&gt;\n&lt;dt class=\"note\"&gt;[[User:Ranwer|Ranwer]]&lt;/dt&gt;\n&lt;dd class=\"note\"&gt;You can also use [[getPosWorld]] (for X and Y only, but not Z), which works splendid in script performance. Here is an example:&lt;br&gt;\n&lt;code&gt;addMissionEventHandler [\"Draw3D\", {\t&lt;br&gt;\t_pos = getPosWorld player;&lt;br&gt;\tdrawIcon3D [\"a3\\ui_f\\data\\gui\\Rsc\\RscDisplayArsenal\\radio_ca.paa\", [1,1,1,1], [(_pos select 0),(_pos select 1), 1], 0.8, 0.8, 0, (name player), 1, 0.0315, \"EtelkaMonospacePro\"];&lt;br&gt;}];&lt;/code&gt;\n&lt;/dd&gt;\n&lt;/dl&gt;\n<comment>&lt;!-- DISCONTINUE Notes --&gt;</comment></root>"}}}